# å®æˆ˜æ¡ˆä¾‹ï¼šAIæ¨¡å‹é…ç½®åˆ‡æ¢å·¥å…·

## ğŸ“‹ é¡¹ç›®éœ€æ±‚æè¿°

### é¡¹ç›®åç§°
ai-model-config-switcher

### é¡¹ç›®ç±»å‹
CLIå·¥å…· + Web GUI

### æ ¸å¿ƒåŠŸèƒ½
1. **CLIå‘½ä»¤è¡Œå·¥å…·**
   - æŸ¥çœ‹å¯ç”¨æ¨¡å‹åˆ—è¡¨
   - æ˜¾ç¤ºå½“å‰æ¿€æ´»æ¨¡å‹
   - ä¸€é”®åˆ‡æ¢æ¨¡å‹é…ç½®
   - éªŒè¯é…ç½®æœ‰æ•ˆæ€§

2. **Webå¯è§†åŒ–ç®¡ç†ç•Œé¢**
   - æ¨¡å‹åˆ—è¡¨å±•ç¤º
   - å¯è§†åŒ–åˆ‡æ¢æ“ä½œ
   - é…ç½®æ–‡ä»¶ç¼–è¾‘
   - æ–°æ¨¡å‹æ·»åŠ 
   - æ—§æ¨¡å‹åˆ é™¤

3. **TOMLé…ç½®ç®¡ç†**
   - åŸºäºTOMLæ ¼å¼é…ç½®æ–‡ä»¶
   - æ”¯æŒå¤šæ¨¡å‹é…ç½®å­˜å‚¨
   - é…ç½®çƒ­é‡è½½
   - é…ç½®å¤‡ä»½æ¢å¤

### æŠ€æœ¯è¦æ±‚
- **ç¼–ç¨‹è¯­è¨€**ï¼šJavaScript (Node.js)
- **Webæ¡†æ¶**ï¼šExpress.js
- **é…ç½®æ ¼å¼**ï¼šTOML
- **å­˜å‚¨æ–¹å¼**ï¼šæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ
- **éƒ¨ç½²æ–¹å¼**ï¼šnpmåŒ…å®‰è£…

### è®¾è®¡åŸåˆ™
1. **CLIä¿æŒç®€æ´**ï¼šåªè´Ÿè´£åŸºæœ¬æŸ¥çœ‹å’Œåˆ‡æ¢ï¼Œä¸ä¿®æ”¹é…ç½®
2. **Web GUIè´Ÿè´£ç®¡ç†**ï¼šæä¾›å®Œæ•´çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½
3. **é…ç½®å®‰å…¨**ï¼šä¸ç›´æ¥ä¿®æ”¹ ~/.zshrcï¼Œé‡‡ç”¨ source æ–¹å¼åŠ è½½
4. **è·¨å¹³å°å…¼å®¹**ï¼šä»…ç”¨ Node.js å†…ç½®æ¨¡å—ï¼Œæœ€å°åŒ–ä¾èµ–

## ğŸš€ è¯¦ç»†éœ€æ±‚è§„æ ¼æ–‡æ¡£

### æŠ€æœ¯æ¶æ„è®¾è®¡

```
ai-model-config-switcher/
â”œâ”€â”€ bin/
â”‚   â””â”€â”€ ai-switcher          # CLIå…¥å£æ–‡ä»¶
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ cli/
â”‚   â”‚   â”œâ”€â”€ commands.js      # CLIå‘½ä»¤å®ç°
â”‚   â”‚   â””â”€â”€ utils.js         # CLIå·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ web/
â”‚   â”‚   â”œâ”€â”€ server.js        # WebæœåŠ¡å™¨
â”‚   â”‚   â”œâ”€â”€ routes.js        # APIè·¯ç”±
â”‚   â”‚   â””â”€â”€ static/          # é™æ€èµ„æº
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ manager.js       # é…ç½®ç®¡ç†å™¨
â”‚   â”‚   â””â”€â”€ validator.js     # é…ç½®éªŒè¯å™¨
â”‚   â””â”€â”€ models/
â”‚       â””â”€â”€ ai-models.js     # AIæ¨¡å‹æ•°æ®ç»“æ„
â”œâ”€â”€ config/
â”‚   â””â”€â”€ models.toml          # æ¨¡å‹é…ç½®æ–‡ä»¶
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ shell-template.sh    # Shellé…ç½®æ¨¡æ¿
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ cli.test.js          # CLIæµ‹è¯•
â”‚   â””â”€â”€ web.test.js          # Webæµ‹è¯•
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ API.md               # APIæ–‡æ¡£
â”‚   â””â”€â”€ USAGE.md             # ä½¿ç”¨è¯´æ˜
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

### æ•°æ®æ¨¡å‹è®¾è®¡

#### TOMLé…ç½®æ ¼å¼ (config/models.toml)
```toml
[models.kimi]
name = "Kimi"
api_key = "your-api-key"
base_url = "https://api.moonshot.cn/v1"
model = "moonshot-v1-8k"
max_tokens = 4096
temperature = 0.7
enabled = true

[models.deepseek]
name = "DeepSeek"
api_key = "your-api-key"
base_url = "https://api.deepseek.com/v1"
model = "deepseek-chat"
max_tokens = 4096
temperature = 0.7
enabled = true

[current]
active_model = "kimi"
last_updated = "2024-01-20T10:30:00Z"
```

### åŠŸèƒ½è§„æ ¼è¯¦ç»†è¯´æ˜

#### CLIå‘½ä»¤å®ç°

**1. æŸ¥çœ‹æ¨¡å‹åˆ—è¡¨**
```bash
ai-switcher list
# è¾“å‡ºï¼š
# â— kimi    - Kimi (8K) - Active
# â—‹ deepseek - DeepSeek Chat - Available
# â—‹ gpt-4   - GPT-4 - Disabled
```

**2. æ˜¾ç¤ºå½“å‰æ¨¡å‹**
```bash
ai-switcher current
# è¾“å‡ºï¼š
# Current model: kimi (Kimi)
# API: https://api.moonshot.cn/v1
# Updated: 2024-01-20 10:30:00
```

**3. åˆ‡æ¢æ¨¡å‹**
```bash
ai-switcher switch deepseek
# è¾“å‡ºï¼š
# Switched to: deepseek (DeepSeek Chat)
# Configuration updated successfully
```

**4. éªŒè¯é…ç½®**
```bash
ai-switcher verify
# è¾“å‡ºï¼š
# âœ… Configuration file exists
# âœ… Current model is valid
# âœ… API key is set
# âœ… All configurations valid
```

#### Web GUIåŠŸèƒ½

**1. æ¨¡å‹åˆ—è¡¨é¡µé¢**
- è¡¨æ ¼å±•ç¤ºæ‰€æœ‰æ¨¡å‹é…ç½®
- æ˜¾ç¤ºæ¿€æ´»çŠ¶æ€
- æä¾›å¿«é€Ÿåˆ‡æ¢æŒ‰é’®
- é…ç½®æœ‰æ•ˆæ€§æ£€æŸ¥

**2. æ¨¡å‹ç¼–è¾‘é¡µé¢**
- åœ¨çº¿ç¼–è¾‘æ¨¡å‹é…ç½®
- å®æ—¶é…ç½®éªŒè¯
- APIè¿æ¥æµ‹è¯•
- é…ç½®é¢„è§ˆåŠŸèƒ½

**3. æ¨¡å‹ç®¡ç†**
- æ·»åŠ æ–°æ¨¡å‹é…ç½®
- åˆ é™¤ç°æœ‰æ¨¡å‹
- å¯¼å…¥/å¯¼å‡ºé…ç½®
- é…ç½®å¤‡ä»½æ¢å¤

### å®‰å…¨è®¾è®¡

#### APIå¯†é’¥ç®¡ç†
- APIå¯†é’¥å­˜å‚¨åœ¨æœ¬åœ°TOMLæ–‡ä»¶
- æ–‡ä»¶æƒé™è®¾ç½®ä¸º600 (ä»…æ‰€æœ‰è€…å¯è¯»å†™)
- æ”¯æŒç¯å¢ƒå˜é‡è¦†ç›–
- å¯†é’¥è„±æ•æ˜¾ç¤º

#### é…ç½®æ–‡ä»¶å®‰å…¨
- é…ç½®æ–‡ä»¶ä¸åŒ…å«åœ¨ç‰ˆæœ¬æ§åˆ¶ä¸­
- è‡ªåŠ¨ç”Ÿæˆ.gitignoreè§„åˆ™
- é…ç½®æ–‡ä»¶åŠ å¯†å­˜å‚¨é€‰é¡¹
- å¤‡ä»½æ–‡ä»¶è‡ªåŠ¨ä¿æŠ¤

#### Shellé›†æˆå®‰å…¨
```bash
# ä¸ç›´æ¥ä¿®æ”¹ ~/.zshrc
# è€Œæ˜¯ç”Ÿæˆç‹¬ç«‹çš„é…ç½®æ–‡ä»¶
# ç”¨æˆ·æ‰‹åŠ¨ source åŠ è½½
```

### æ€§èƒ½ä¼˜åŒ–

#### CLIæ€§èƒ½
- å¯åŠ¨æ—¶é—´ < 1ç§’
- é…ç½®è¯»å– < 100ms
- åˆ‡æ¢æ“ä½œ < 200ms

#### Webæ€§èƒ½
- é¡µé¢åŠ è½½ < 2ç§’
- APIå“åº” < 500ms
- æ”¯æŒå¹¶å‘æ“ä½œ

#### å†…å­˜ä¼˜åŒ–
- å†…å­˜å ç”¨ < 50MB
- é…ç½®ç¼“å­˜æœºåˆ¶
- å»¶è¿ŸåŠ è½½éå¿…è¦æ¨¡å—

## ğŸ¯ å®ç°è¦æ±‚

### ultra strict ç”Ÿæˆè¦æ±‚

1. **ä¸¥æ ¼æŒ‰ç…§ä¸Šè¿°æ¶æ„å®ç°**
2. **ä½¿ç”¨çº¯Node.jså†…ç½®æ¨¡å—**ï¼Œä¸ä¾èµ–ç¬¬ä¸‰æ–¹åŒ…
3. **åŒ…å«å®Œæ•´çš„é”™è¯¯å¤„ç†**
4. **æ·»åŠ è¯¦ç»†çš„æ—¥å¿—è®°å½•**
5. **ç¡®ä¿è·¨å¹³å°å…¼å®¹æ€§**
6. **å®ç°æ‰€æœ‰åŠŸèƒ½è§„æ ¼**
7. **åŒ…å«å®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹**
8. **æä¾›è¯¦ç»†çš„æ–‡æ¡£è¯´æ˜**

### è¾“å‡ºæ ¼å¼è¦æ±‚

1. **é¡¹ç›®ç»“æ„è¯´æ˜**
2. **æ¯ä¸ªæ–‡ä»¶çš„å®Œæ•´ä»£ç **
3. **ä½¿ç”¨è¯´æ˜å’Œå®‰è£…æŒ‡å—**
4. **æµ‹è¯•è¿è¡Œè¯´æ˜**
5. **APIæ–‡æ¡£**

### ç‰¹æ®Šè¦æ±‚

- **å®‰å…¨æ€§ä¼˜å…ˆ**ï¼šAPIå¯†é’¥å®‰å…¨ç®¡ç†
- **ç”¨æˆ·ä½“éªŒ**ï¼šç®€æ´ç›´è§‚çš„ç•Œé¢
- **å¯æ‰©å±•æ€§**ï¼šæ˜“äºæ·»åŠ æ–°æ¨¡å‹æ”¯æŒ
- **ç¨³å®šæ€§**ï¼šå¼‚å¸¸æƒ…å†µå¤„ç†å®Œå–„
- **å¯ç»´æŠ¤æ€§**ï¼šä»£ç ç»“æ„æ¸…æ™°ï¼Œæ–‡æ¡£å®Œå–„

ç°åœ¨è¯·æŒ‰ç…§è¿™ä¸ªè¯¦ç»†éœ€æ±‚æ–‡æ¡£ï¼Œå®ç°å®Œæ•´çš„AIæ¨¡å‹é…ç½®åˆ‡æ¢å·¥å…·ã€‚